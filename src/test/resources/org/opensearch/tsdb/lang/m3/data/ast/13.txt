ROOT
  PIPELINE
    PIPELINE
      PIPELINE
        FUNCTION(fetch)
          TAG_KEY(service)
            TAG_VALUE(logger)
          TAG_KEY(name)
            TAG_VALUE(logs)
        FUNCTION(sum)
        FUNCTION(asPercent)
          GROUP
            FUNCTION(fetch)
              TAG_KEY(service)
                TAG_VALUE(logger)
              TAG_KEY(name)
                TAG_VALUE(attempts)
            FUNCTION(sum)
        FUNCTION(abs)
      GROUP
        PIPELINE
          FUNCTION(fetch)
            TAG_KEY(service)
              TAG_VALUE(logger)
            TAG_KEY(error_type, inverted=true)
              TAG_VALUE(backoff)
          FUNCTION(sum)
          FUNCTION(asPercent)
            GROUP
              FUNCTION(fetch)
                TAG_KEY(service)
                  TAG_VALUE(logger)
                TAG_KEY(error_type)
                  TAG_VALUE(*)
              FUNCTION(sum)
          FUNCTION(abs)
          FUNCTION(transformNull)
            VALUE(0)
          FUNCTION(moving)
            VALUE(5m)
            VALUE(avg)
      FUNCTION(sumSeries)
    FUNCTION(asPercent)
      GROUP
        FUNCTION(fetch)
          TAG_KEY(service)
            TAG_VALUE(logger)
          TAG_KEY(name)
            TAG_VALUE(attempts)
        FUNCTION(sum)
    FUNCTION(moving)
      VALUE(5m)
      VALUE(min)
    FUNCTION(alias)
      VALUE(percent)
